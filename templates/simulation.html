<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuramoto Model Simulations</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;900&family=Roboto:wght@400;700;900&display=swap">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <style>
        body, h1 {font-family: "Raleway", Arial, sans-serif}
        h1 {letter-spacing: 6px}
        .w3-row-padding img {margin-bottom: 12px}
    </style>
</head>
<body>

<!-- !PAGE CONTENT! -->
<div class="w3-content" style="max-width:1500px">

    <!-- Header -->
    <header class="w3-panel w3-center w3-opacity" style="padding:128px 16px">
        <h1 class="w3-xlarge">SIMULATIONS OF KURAMOTO OSCILLATORS</h1>
        <div class="w3-padding-32">
            <div class="w3-bar w3-border">
                <a href="/" class="w3-bar-item w3-button">Home</a>
                <a href="#" class="w3-bar-item w3-button w3-light-grey">Simulation</a>
                <a href="https://scholar.google.co.in/citations?hl=en&user=vlEHYwYAAAAJ" target="_blank" class="w3-bar-item w3-button">Learn More</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div id="container" class="w3-container">
        <div class="content-row">
            <!-- LHS: Description and Equations -->
            <div class="lhs w3-container">
                <h3>Simulation</h3>
                <p>\( r_1 \)  v/s  \( K_1 \)</p>
                <div class="form-container w3-container">
                    <form action="/plot" method="post" onsubmit="return handleFormSubmit(event, 'plot-loader')" class="w3-form">
                        <div class="form-row w3-row">
                            <div class="form-group w3-col">
                                <label for="k1_start">\( K_1 \) start:</label>
                                <input type="number" step="any" id="k1_start" name="k1_start" value="{{ request.form.k1_start }}" required class="w3-input">
                            </div>
                            <div class="form-group w3-col">
                                <label for="k1_end">\( K_1 \) end:</label>
                                <input type="number" step="any" id="k1_end" name="k1_end" value="{{ request.form.k1_end }}" required class="w3-input">
                            </div>
                            <div class="form-group w3-col">
                                <label for="k2">\( K_2 \):</label>
                                <input type="number" step="any" id="k2" name="k2" value="{{ request.form.k2 }}" required class="w3-input">
                            </div>
                            <div class="form-group w3-col">
                                <label for="n">\( N \):</label>
                                <input type="number" id="n" name="n" value="{{ request.form.n }}" required class="w3-input">
                            </div>
                            <div class="form-group w3-col">
                                <label for="dk">\( dk \):</label>
                                <input type="number" step="any" id="dk" name="dk" value="{{ request.form.dk }}" required class="w3-input">
                            </div>
                        </div>
                        <div class="button-container w3-center">
                            <button type="submit" style="padding: 5px; font-size: 1em;" class="w3-button w3-light-grey">Start</button>
                            <div class="loader" id="plot-loader"></div>
                        </div>
                    </form>
                </div>

                <div class="plot-container1 w3-center" id="plot">
                    {% if plot_url %}
                        <img src="data:image/png;base64,{{ plot_url }}" alt="Plot of r1 v/s K1">
                    {% endif %}
                </div>

                <p>&theta; v/s \( t \)</p>
                <div class="rhs-content">
                    <div class="form-container w3-container">
                        <form action="/second_simulation" method="post" onsubmit="return handleFormSubmit(event, 'animate-loader')" class="w3-form">
                            <div class="form-row w3-row">
                                <div class="form-group w3-col">
                                    <label for="n2">\( N \):</label>
                                    <input type="number" id="n2" name="n2" value="{{ request.form.n2 }}" required class="w3-input">
                                </div>
                                <div class="form-group w3-col">
                                    <label for="k1_2">\( K_1 \):</label>
                                    <input type="number" step="any" id="k1_2" name="k1_2" value="{{ request.form.k1_2 }}" required class="w3-input">
                                </div>
                                <div class="form-group w3-col">
                                    <label for="k2_2">\( K_2 \):</label>
                                    <input type="number" step="any" id="k2_2" name="k2_2" value="{{ request.form.k2_2 }}" required class="w3-input">
                                </div>
                            </div>
                            <div class="button-container w3-center">
                                <button type="submit" style="padding: 5px; font-size: 1em;" class="w3-button w3-light-grey">Start</button>
                                <div class="loader" id="animate-loader"></div>
                            </div>
                        </form>
                    </div>

                    <div class="plot-container2 w3-center" id="second_plot">
                        {% if second_plot_url %}
                            <img src="data:image/gif;base64,{{ second_plot_url }}" alt="Second Simulation Animation">
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-light-grey w3-center w3-large"> 
  <div class="w3-xlarge">
    <a href="https://www.instagram.com/your_instagram_handle" target="_blank" class="fa fa-instagram w3-hover-opacity"></a>
    <a href="https://github.com/your_github_username" target="_blank" class="fa fa-github w3-hover-opacity"></a>
    <a href="https://www.linkedin.com/in/your_linkedin_profile" target="_blank" class="fa fa-linkedin w3-hover-opacity"></a>
  </div>
  <p>Developed by <a class="w3-hover-text-green">Savan Sajith</a></p>
</footer>

<script>
    function handleFormSubmit(event, loaderId) {
        event.target.querySelector('button').disabled = true;
        document.getElementById(loaderId).style.display = 'block';
        return true;
    }
</script>

</body>
</html>